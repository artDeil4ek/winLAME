Subject: SSE routines crash

Hi,
I recently got a bug report of a crash on a "Pentium III 700 Mhz for notebooks" (don't know exactly what processor type). I tracked the crash to the fht_SSE assembler function. The place where it happens is here:

	shr	edi,1
	add	edi,esi		; edi=gi=fi+ki/2

; たかだか2並列しか期待できない部分はFPUのほうが速い。
	movss	xmm7,[D_SQRT2]     <-- crash!
	jmp	short .lp20

Apparently the CPU detection is not ok for this processor type.

bye
Michael